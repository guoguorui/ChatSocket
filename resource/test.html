<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
<h1>WebSocket客户端实例</h1>
<div id="msg" style="height: 100px;"></div>
<p>请输入一些文字</p>
<input type="text" id="text"/>
<button onclick="test()">testJs</button>
<button id="disconnect" onclick="disconnect();">断开连接</button>


<script type="text/javascript">
var websocket = null;
	function test(){
		console.log("into connect");
		var msg = document.getElementById("msg");
		var readyState = new Array("正在连接", "已建立连接", "正在关闭连接"
				, "已关闭连接");
		var host = "ws://localhost:80";
		websocket = new WebSocket(host);
		websocket.onopen = function(){
			msg.innerHTML += "<p>Socket状态： " + readyState[websocket.readyState] + "</p>";
		};
		websocket.onclose　= function(){
			msg.innerHTML += "<p>Socket状态： " + readyState[websocket.readyState] + "</p>";
		};
	}
	
	function disconnect(){
		console.log("close websocket");
		websocket.close();
	}
</script>
</body>
</html>